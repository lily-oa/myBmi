{"version":3,"sources":["all.js"],"names":["inputHeight","document","querySelector","inputWeight","verifyHeight","verifyWeight","resultBtn","showResult","resultNum","resultMsg","list","clearAllBtn","data","JSON","parse","localStorage","getItem","level","updateData","str","length","style","display","forEach","item","content","time","msg","bmi","weight","height","date","innerHTML","BMIcalc","value","Math","round","pow","BMIstatus","bmiData","currentDate","textContent","unshift","updateLocalStorage","now","Date","year","getFullYear","month","getMonth","getDate","getTime","statusGroup","ideal","color","thin","heavy","slightlyObese","mediumObese","severeObese","filterStatus","changeBtn","input","classList","add","newStatus","inputVerify","trim","alertMsg","remove","resetAll","setAttribute","setItem","stringify"],"mappings":"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","file":"all.js","sourcesContent":["const inputHeight = document.querySelector('.height-group input');\nconst inputWeight = document.querySelector('.weight-group input');\nconst verifyHeight = document.querySelector('.height-group p'); // input verify info\nconst verifyWeight = document.querySelector('.weight-group p'); // input verify info\n\nconst resultBtn = document.querySelector('.see-result');\nconst showResult = document.querySelector('#show-result');\nconst resultNum = document.querySelector('.result-num');\nconst resultMsg = document.querySelector('.result-msg');\nconst list = document.querySelector('.list');\nconst clearAllBtn = document.querySelector('.clear-all-btn');\n\nlet data = JSON.parse(localStorage.getItem('BMI Record')) || [];\nlet level = '';\n\n//---------畫面:li產生列表-------//\nfunction updateData(data){\n  let str = '';\n  if(data.length > 0){\n    clearAllBtn.style.display = 'flex';\n    data.forEach(function(item){\n      const content = `\n      <li class=\"${item.level}\" data-id=\"${item.time}\">\n        <h3>${item.msg}</h3>\n        <div>\n          <small>BMI</small>\n          <p>${item.bmi}</p>\n        </div>\n        <div>\n          <small>weight</small>\n          <p>${item.weight}</p>\n        </div>\n        <div>\n          <small>height</small>\n          <p>${item.height}</p>\n        </div>\n        <small>${item.date}</small>\n        <a href=\"#\" class=\"delete-btn\">\n          <i class=\"material-icons-outlined\">height_off</i>\n        </a>\n      </li>\n      `;\n      str += content;\n    });\n  }else{\n    clearAllBtn.style.display = 'none';\n    str += `<li class=\"none\">這裡還沒有資料，快來計算你的 BMI 吧!</li>`\n  }\n  list.innerHTML = str;\n}\n\n//---------資料 : 計算BMI 資料-------//\nfunction BMIcalc(){\n  const weight =inputWeight.value;\n  const height =inputHeight.value / 100;\n  const bmi = Math.round((weight / Math.pow(height, 2)) * 100) / 100;  //四捨五入到第二位\n\n  BMIstatus(bmi);\n\n  let bmiData = {\n    bmi: bmi,\n    weight: inputWeight.value,\n    height: inputHeight.value,\n    date: currentDate().date,\n    time: currentDate().time,\n    msg: resultMsg.textContent,\n    level: level\n  };\n\n  inputHeight.value = \"\";\n  inputWeight.value = \"\";\n\n  data.unshift(bmiData);  //陣列的最前端新增一個值\n  updateLocalStorage(data);\n\n}\n\n//---------資料 : 抓取日期-------//\nfunction currentDate() {\n  const now = new Date();\n  const year = new getFullYear();\n  const month = (now.getMonth() + 1 < 10 ? '0' : '') + (now.getMonth() + 1); //十位數 + 個位數(含補 0方式)\n  const date = (now.getDate() <10 ? '0' : '') + now.getDate(); //(含補 0方式)\n  const time = now.getTime();\n  let value = `${year}-${month}-${date}`;\n  return {\n    date: value,\n    time: time\n  }\n}\n\n//---------資料+畫面:判斷 BMI狀態 + 改按鈕狀態-------//\nfunction BMIstatus(data) {\n  const statusGroup = {\n    ideal: {\n      msg: '標準',\n      level: 'ideal',\n      color: 'result-ideal',  //已先在css寫好\n    },\n    thin: {\n      msg: '過輕',\n      level: 'thin',\n      color: 'result-thin',\n    },\n    heavy: {\n      msg: '過重',\n      level: 'heavy',\n      color: 'result-heavy',\n    },\n    slightlyObese: {\n      msg: '輕度肥胖',\n      level: 'slightlyObese',\n      color: 'result-slightlyObese',\n    },\n    mediumObese: {\n      msg: '中度肥胖',\n      level: 'mediumObese',\n      color: 'result-mediumObese',\n    },\n    severeObese: {\n      msg: '重度肥胖',\n      level: 'severeObese',\n      color: 'result-severeObese',\n    },\n  }\n};\n\nconst filterStatus = function (value){\n  let color = changeBtn(statusGroup[value]);\n  resultNum.textContent = date;  // 日期寫入result-num\n  resultMsg.textContent = statusGroup[value].msg; //寫入result-msg\n  level = statusGroup[value].level;\n  let msg = statusGroup[value].msg;\n  return {\n    color,\n    level,\n    msg\n  }\n};\n\nif(data <= 18.5){\n  filterStatus('thin');\n} else if (data <= 25){\n  filterStatus('ideal');\n} else if (data <= 30){\n  filterStatus('heavy');\n} else if (data <= 35){\n  filterStatus('slightlyObese');\n} else if (data <= 40){\n  filterStatus('mediumObese');\n} else {\n  filterStatus('severeObese');\n}\n\n//---------畫面 : 按鈕轉換顏色-------//\nfunction changeBtn(input){\n  let color = input.color;\n  resultBtn.style.display = 'none';\n  showResult.style.display = 'block';\n  showResult.classList.add(color);  // 增加輸入值color到showResult上\n\n  return color;\n}\n\n//---------互動 + 畫面 : 點擊按鈕新增狀態 + 產生畫面-------//\nfunction newStatus(){\n  \n  if(inputVerify() === 'true'){\n    return;\n  };\n\n  BMIcalc();\n  updateData(data);\n}\n\n//---------互動 + 畫面 : 表單驗證-------//\nfunction inputVerify(){\n  if(inputHeight.value.trim() == '' || inputWeight.value.trim() == ''){\n    let alertMsg;\n\n    if(inputHeight.value.trim() == ''){\n      verifyHeight.textContent = '*請在此輸入身高 XXX cm';\n      verifyHeight.classList.add('visible');\n      inputHeight.classList.add('warning');\n      alertMsg = 'true';\n    };\n    if(inputWeight.value.trim() == ''){\n      verifyWeight.textContent = '*請在此輸入體重 XX kg';\n      verifyWeight.classList.add('visible');\n      inputWeight.classList.add('warning');\n      alertMsg = 'true';\n    };\n\n    return alertMsg; \n  };\n\n  verifyHeight.classList.remove('visible');\n  verifyWeight.classList.remove('visible');\n  inputHeight.classList.remove('warning');\n  inputWeight.classList.remove('warning');\n}\n\n//---------互動 + 畫面 : 清空表單、按鈕 or 繼續計算-------//\nfunction resetAll(){\n  if(inputVerify()==='true'){\n    resultBtn.style.display = 'block';\n    showResult.style.display = 'none';\n    showResult.setAttribute('class', '');\n  }else{\n    newStatus();\n  }\n}\n\n//---------資料:更新 localStorage -------//\nfunction updateLocalStorage(data){\n  localStorage.setItem('BMI Record', JSON.stringify(data));\n}"]}